(function(n,t){function f(n){return n.replace(/(((https?:\/\/)|(www\.))[^\s]+)/g,function(n,t,i){var r=i==="www."?"http://"+n:n;return'<a href="'+r+'" rel="nofollow noreferrer">'+n+"<\/a>"})}var i,r,u;requestAnimationFrame(function(){for(var i,r=t.querySelectorAll("link[as=style]"),n=0;n<r.length;n++)i=r[n],i.setAttribute("rel","stylesheet"),i.removeAttribute("as")});i=t.querySelector("#comments form");i&&(i.classList.add("js-enabled"),i.addEventListener("submit",function(){var t,n;for(this.querySelector("input[type=submit]").value="Posting comment...",t=this.elements,n=0;n<t.length;++n)t[n].readOnly=!0}));r=t.querySelector("#comments textarea");r&&r.addEventListener("focus",function(){t.querySelector(".details").className+=" show";setTimeout(function(){var n=t.querySelector("input[name=website]");n.parentNode.removeChild(n)},2e3)},!1);u=t.querySelectorAll("#comments .content [itemprop=text]");requestAnimationFrame(function(){for(var t,n=0;n<u.length;n++)t=u[n],t.innerHTML=f(t.textContent)});n.addEventListener("load",function(){function u(){i=t.body.querySelectorAll("[data-src]");f=Math.max(t.documentElement.clientHeight,n.innerHeight);o(0)}function e(){o(200)}function o(n){r||(r=setTimeout(function(){var n=!1;requestAnimationFrame(function(){for(var t,e,u=0;u<i.length;u++)t=i[u],e=t.getBoundingClientRect(),e.bottom<0||e.top-100-f>=0||(t.onload=function(n){n.target.className="loaded"},t.className="notloaded",t.src=t.getAttribute("data-src"),t.removeAttribute("data-src"),n=!0);n&&s();r=null})},n))}function s(){if(i=Array.prototype.filter.call(i,function(n){return n.hasAttribute("data-src")}),i.length===0){n.removeEventListener("scroll",e);n.removeEventListener("resize",u);return}}var r,i,f;n.requestAnimationFrame=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)}}();n.addEventListener("scroll",e);n.addEventListener("resize",u);u()})})(window,document)